# ğŸ“‹ Guia Detalhado: Como Limpar o Cache de PermissÃµes

## ğŸ¯ Passo a Passo Completo

### 1ï¸âƒ£ **Acesse o Sistema**
- Abra seu navegador
- Entre no sistema com suas credenciais de **administrador**
- URL: `https://seu-dominio.com` ou `http://localhost:3000` (se local)

### 2ï¸âƒ£ **Navegue atÃ© o Dashboard**
ApÃ³s fazer login, vocÃª estarÃ¡ no Dashboard principal.

### 3ï¸âƒ£ **Acesse as ConfiguraÃ§Ãµes**

#### OpÃ§Ã£o A: Pelo Menu Lateral
1. No menu lateral esquerdo, procure por **"ConfiguraÃ§Ãµes"** (Ã­cone de engrenagem âš™ï¸)
2. Clique em **"ConfiguraÃ§Ãµes"**

#### OpÃ§Ã£o B: Pela URL Direta
- Acesse diretamente: `https://seu-dominio.com/dashboard/settings`

### 4ï¸âƒ£ **Localize o Card "GestÃ£o de Perfis"**

Na pÃ¡gina de ConfiguraÃ§Ãµes, vocÃª verÃ¡ vÃ¡rios cards. Procure pelo card:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‘¥ GestÃ£o de Perfis                 â”‚
â”‚                                     â”‚
â”‚ Crie e configure perfis            â”‚
â”‚ personalizados com permissÃµes      â”‚
â”‚ especÃ­ficas para cada tipo de      â”‚
â”‚ usuÃ¡rio                            â”‚
â”‚                                     â”‚
â”‚ [âš™ï¸ Gerenciar Perfis]              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5ï¸âƒ£ **Clique em "Gerenciar Perfis"**
- Clique no botÃ£o roxo **"Gerenciar Perfis"**
- Um modal (janela popup) serÃ¡ aberto

### 6ï¸âƒ£ **No Modal de GestÃ£o de Perfis**

Quando o modal abrir, vocÃª verÃ¡:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GestÃ£o de Perfis de Acesso              â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚                                          â”‚
â”‚ Perfis Customizados                     â”‚
â”‚                                          â”‚
â”‚ [+ Criar Novo Perfil] [ğŸ—„ï¸ Limpar Cache] â”‚
â”‚                                          â”‚
â”‚ Lista de Perfis:                        â”‚
â”‚ â€¢ admin (Sistema)                       â”‚
â”‚ â€¢ analyst (Sistema)                     â”‚
â”‚ â€¢ user (Sistema)                        â”‚
â”‚ â€¢ n1 (Customizado)                      â”‚
â”‚ â€¢ desenvolvedor (Customizado)          â”‚
â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7ï¸âƒ£ **Clique no BotÃ£o "Limpar Cache"**

- Localize o botÃ£o **"Limpar Cache"** (Ã­cone de banco de dados ğŸ—„ï¸)
- EstÃ¡ ao lado do botÃ£o "Criar Novo Perfil"
- Clique nele

### 8ï¸âƒ£ **ConfirmaÃ§Ã£o**

ApÃ³s clicar, vocÃª verÃ¡ uma notificaÃ§Ã£o:

```
âœ… Cache de permissÃµes limpo! 
   FaÃ§a logout e login novamente para aplicar as mudanÃ§as.
```

### 9ï¸âƒ£ **FaÃ§a Logout e Login**

**IMPORTANTE**: Para que as mudanÃ§as tenham efeito completo:

1. Clique no seu **avatar/nome** no canto superior direito
2. Selecione **"Sair"** ou **"Logout"**
3. FaÃ§a login novamente com suas credenciais

## ğŸ” LocalizaÃ§Ã£o Visual do BotÃ£o

```
Dashboard
    â””â”€â”€ ConfiguraÃ§Ãµes (menu lateral)
            â””â”€â”€ Card "GestÃ£o de Perfis"
                    â””â”€â”€ BotÃ£o "Gerenciar Perfis"
                            â””â”€â”€ Modal abre
                                    â””â”€â”€ BotÃ£o "Limpar Cache" (cinza, com Ã­cone ğŸ—„ï¸)
```

## â“ Perguntas Frequentes

### NÃ£o vejo o botÃ£o "Limpar Cache"
- Certifique-se de estar logado como **administrador**
- O botÃ£o estÃ¡ dentro do modal de "GestÃ£o de Perfis", nÃ£o na pÃ¡gina principal

### O botÃ£o estÃ¡ desabilitado
- Verifique se vocÃª tem permissÃ£o de administrador
- Tente recarregar a pÃ¡gina (F5)

### Cliquei mas nada aconteceu
- Verifique se apareceu a notificaÃ§Ã£o verde de sucesso
- VocÃª DEVE fazer logout e login novamente
- Limpe tambÃ©m o cache do navegador (Ctrl+F5)

## ğŸ› ï¸ Alternativa: Limpar Cache via API

Se preferir, vocÃª pode limpar o cache diretamente via requisiÃ§Ã£o HTTP:

### Com cURL (terminal):
```bash
curl -X POST https://seu-dominio.com/api/admin/clear-cache \
  -H "Authorization: Bearer SEU_TOKEN_AQUI"
```

### Com JavaScript (console do navegador):
```javascript
fetch('/api/admin/clear-cache', {
  method: 'POST',
  credentials: 'include'
})
.then(r => r.json())
.then(data => console.log('Cache limpo!', data))
```

## ğŸ“ Resumo RÃ¡pido

1. **Login** como admin
2. **Dashboard** â†’ **ConfiguraÃ§Ãµes**
3. Card **"GestÃ£o de Perfis"** â†’ BotÃ£o **"Gerenciar Perfis"**
4. No modal â†’ BotÃ£o **"Limpar Cache"** (cinza, Ã­cone ğŸ—„ï¸)
5. **Logout** e **Login** novamente

## âš ï¸ Importante

- O cache de permissÃµes dura 5 minutos por padrÃ£o
- Limpar o cache forÃ§a o sistema a recarregar todas as permissÃµes do banco
- Sempre faÃ§a logout/login apÃ³s limpar o cache
- Se vocÃª mudou roles ou permissÃµes, limpe o cache para aplicar imediatamente

---

**Dica**: Se vocÃª estÃ¡ com problemas de permissÃµes nÃ£o sendo aplicadas, a sequÃªncia Ã©:
1. Corrigir no banco de dados
2. Limpar cache da aplicaÃ§Ã£o (este guia)
3. Limpar cache do navegador (Ctrl+F5)
4. Fazer logout e login