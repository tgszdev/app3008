{
  "total_scenarios": 10,
  "total_tests": 27,
  "passed_tests": 22,
  "failed_tests": 5,
  "skipped_tests": 0,
  "total_duration": 1877,
  "scenarios": [
    {
      "scenario_name": "AUTENTICAÇÃO E AUTORIZAÇÃO",
      "tests": [
        {
          "test_name": "1.1 - Verificar usuários existentes",
          "status": "PASS",
          "message": "Teste executado com sucesso",
          "duration": 302,
          "details": {
            "users_found": 10,
            "users": [
              {
                "id": "2a33241e-ed38-48b5-9c84-e8c354ae9606",
                "name": "Thiago Rodrigues Souza",
                "email": "rodrigues2205@icloud.com",
                "role": "admin"
              },
              {
                "id": "c8005da5-3d63-4de2-9956-43c2084d7385",
                "name": "Lucas Reis Wiser",
                "email": "lucas.reis@wiser.log.br",
                "role": "admin"
              },
              {
                "id": "a17bd88a-2385-4539-8b96-4d89f5e5e7f0",
                "name": "Administrador do Sistema",
                "email": "admin@example.com",
                "role": "admin"
              },
              {
                "id": "9b60a03f-35d2-4c7f-820d-277b485f3318",
                "name": "Matrix Admin",
                "email": "matrix.admin@example.com",
                "role": "admin"
              },
              {
                "id": "04dc825f-82f8-4921-9d4a-2e93fd00dad9",
                "name": "Thiago Wiser",
                "email": "thiago.souza@wiser.log.br",
                "role": "user"
              },
              {
                "id": "45a3ebc8-d3f2-4e60-a561-4cf80e5afe45",
                "name": "Carlos Santos",
                "email": "analyst2@example.com",
                "role": "analyst"
              },
              {
                "id": "891b3c82-44c5-4cc9-b247-b88b799c88ec",
                "name": "Maria Oliveira",
                "email": "user1@example.com",
                "role": "user"
              },
              {
                "id": "cb3a7544-8aed-409e-b0b7-98cb3d332396",
                "name": "Ana Silva",
                "email": "analyst1@example.com",
                "role": "analyst"
              },
              {
                "id": "c693343a-ae26-4ac3-98a8-92a69401a9d1",
                "name": "João Pereira",
                "email": "user2@example.com",
                "role": "user"
              },
              {
                "id": "2bcd314e-ee43-4d2e-98aa-62c25d85deb7",
                "name": "Fernanda Costa",
                "email": "user3@example.com",
                "role": "analyst"
              }
            ]
          }
        },
        {
          "test_name": "1.2 - Testar login de admin",
          "status": "PASS",
          "message": "Teste executado com sucesso",
          "duration": 53,
          "details": {
            "admin_login": true,
            "role": "admin",
            "user_type": "matrix"
          }
        },
        {
          "test_name": "1.3 - Testar login de usuário de contexto",
          "status": "PASS",
          "message": "Teste executado com sucesso",
          "duration": 57,
          "details": {
            "context_user_login": true,
            "context_id": "6486088e-72ae-461b-8b03-32ca84918882",
            "user_type": "context"
          }
        }
      ],
      "total_tests": 3,
      "passed_tests": 3,
      "failed_tests": 0,
      "skipped_tests": 0,
      "duration": 413
    },
    {
      "scenario_name": "GESTÃO DE USUÁRIOS E ORGANIZAÇÕES",
      "tests": [
        {
          "test_name": "2.1 - Criar nova organização (sem description)",
          "status": "PASS",
          "message": "Teste executado com sucesso",
          "duration": 43,
          "details": {
            "organization_created": true,
            "org_id": "c967c0ac-2600-4d4e-bc27-f6a286cd7b84",
            "org_name": "CTS Test Organization"
          }
        },
        {
          "test_name": "2.2 - Criar usuário com password_hash",
          "status": "PASS",
          "message": "Teste executado com sucesso",
          "duration": 66,
          "details": {
            "user_created": true,
            "user_id": "081f40a7-ccc1-49a4-b748-8b480f8c16f3",
            "user_email": "analyst@test.com"
          }
        },
        {
          "test_name": "2.3 - Associar usuário à organização (sem role)",
          "status": "PASS",
          "message": "Teste executado com sucesso",
          "duration": 48,
          "details": {
            "association_created": true,
            "association_id": "8a5cb681-7f9b-4f63-a4c2-14fdf8a280c9"
          }
        },
        {
          "test_name": "2.4 - Listar organizações",
          "status": "PASS",
          "message": "Teste executado com sucesso",
          "duration": 71,
          "details": {
            "organizations_listed": true,
            "count": 4,
            "organizations": [
              {
                "id": "c967c0ac-2600-4d4e-bc27-f6a286cd7b84",
                "name": "CTS Test Organization",
                "type": "organization"
              },
              {
                "id": "6486088e-72ae-461b-8b03-32ca84918882",
                "name": "Luft Agro",
                "type": "organization"
              },
              {
                "id": "a7791594-c44d-47aa-8ddd-97ecfb6cc8ed",
                "name": "Organização Padrão",
                "type": "organization"
              },
              {
                "id": "fa4a4a34-f662-4da1-94d8-b77b5c578d6b",
                "name": "Sistema Atual",
                "type": "department"
              }
            ]
          }
        }
      ],
      "total_tests": 4,
      "passed_tests": 4,
      "failed_tests": 0,
      "skipped_tests": 0,
      "duration": 228
    },
    {
      "scenario_name": "SISTEMA DE TICKETS",
      "tests": [
        {
          "test_name": "3.1 - Criar ticket básico",
          "status": "PASS",
          "message": "Teste executado com sucesso",
          "duration": 69,
          "details": {
            "ticket_created": true,
            "ticket_id": "7525aac9-0ef5-40be-b79e-541d558eeac3",
            "ticket_number": 2025090000
          }
        },
        {
          "test_name": "3.2 - Criar ticket com prioridade diferente",
          "status": "FAIL",
          "message": "Erro: Erro ao criar ticket: duplicate key value violates unique constraint \"tickets_ticket_number_key\"",
          "duration": 59,
          "details": {}
        },
        {
          "test_name": "3.3 - Atualizar status do ticket",
          "status": "PASS",
          "message": "Teste executado com sucesso",
          "duration": 53,
          "details": {
            "ticket_updated": true,
            "new_status": "in_progress"
          }
        },
        {
          "test_name": "3.4 - Buscar tickets por status",
          "status": "PASS",
          "message": "Teste executado com sucesso",
          "duration": 38,
          "details": {
            "open_tickets_found": true,
            "count": 0
          }
        }
      ],
      "total_tests": 4,
      "passed_tests": 3,
      "failed_tests": 1,
      "skipped_tests": 0,
      "duration": 219
    },
    {
      "scenario_name": "COMENTÁRIOS",
      "tests": [
        {
          "test_name": "4.1 - Adicionar comentário ao ticket",
          "status": "PASS",
          "message": "Teste executado com sucesso",
          "duration": 75,
          "details": {
            "comment_created": true,
            "comment_id": "211515d5-932a-43f2-9126-22bb0a305018",
            "content": "CTS - Comentário de teste"
          }
        },
        {
          "test_name": "4.2 - Buscar comentários do ticket",
          "status": "PASS",
          "message": "Teste executado com sucesso",
          "duration": 79,
          "details": {
            "comments_found": true,
            "count": 1,
            "comments": [
              {
                "id": "211515d5-932a-43f2-9126-22bb0a305018",
                "content": "CTS - Comentário de teste",
                "is_internal": false
              }
            ]
          }
        }
      ],
      "total_tests": 2,
      "passed_tests": 2,
      "failed_tests": 0,
      "skipped_tests": 0,
      "duration": 154
    },
    {
      "scenario_name": "KNOWLEDGE BASE",
      "tests": [
        {
          "test_name": "5.1 - Criar categoria da Knowledge Base (com slug)",
          "status": "PASS",
          "message": "Teste executado com sucesso",
          "duration": 83,
          "details": {
            "category_created": true,
            "category_id": "4c8c168f-c77a-492c-8bfa-4892ee51e31e",
            "name": "CTS Test Category"
          }
        },
        {
          "test_name": "5.2 - Criar artigo da Knowledge Base (sem is_published)",
          "status": "FAIL",
          "message": "Erro: Erro ao criar artigo: null value in column \"slug\" of relation \"kb_articles\" violates not-null constraint",
          "duration": 76,
          "details": {}
        },
        {
          "test_name": "5.3 - Buscar artigos",
          "status": "PASS",
          "message": "Teste executado com sucesso",
          "duration": 58,
          "details": {
            "articles_found": true,
            "count": 3
          }
        }
      ],
      "total_tests": 3,
      "passed_tests": 2,
      "failed_tests": 1,
      "skipped_tests": 0,
      "duration": 219
    },
    {
      "scenario_name": "TIMESHEETS",
      "tests": [
        {
          "test_name": "6.1 - Criar timesheet (sem is_approved)",
          "status": "FAIL",
          "message": "Erro: Erro ao criar timesheet: null value in column \"ticket_id\" of relation \"timesheets\" violates not-null constraint",
          "duration": 60,
          "details": {}
        },
        {
          "test_name": "6.2 - Buscar timesheets do usuário",
          "status": "PASS",
          "message": "Teste executado com sucesso",
          "duration": 67,
          "details": {
            "timesheets_found": true,
            "count": 0
          }
        }
      ],
      "total_tests": 2,
      "passed_tests": 1,
      "failed_tests": 1,
      "skipped_tests": 0,
      "duration": 127
    },
    {
      "scenario_name": "RELATÓRIOS E ANALYTICS",
      "tests": [
        {
          "test_name": "7.1 - Gerar estatísticas do dashboard",
          "status": "PASS",
          "message": "Teste executado com sucesso",
          "duration": 42,
          "details": {
            "dashboard_stats": true,
            "statistics": {
              "total_tickets": 74,
              "open_tickets": 0,
              "in_progress_tickets": 1,
              "high_priority_tickets": 22,
              "critical_tickets": 25
            }
          }
        },
        {
          "test_name": "7.2 - Gerar relatório de tickets por status (SQL direto)",
          "status": "FAIL",
          "message": "Erro: Erro ao gerar relatório: Could not find the function public.exec(sql) in the schema cache",
          "duration": 79,
          "details": {}
        },
        {
          "test_name": "7.3 - Gerar relatório de tickets por prioridade (SQL direto)",
          "status": "FAIL",
          "message": "Erro: Erro ao gerar relatório de prioridade: Could not find the function public.exec(sql) in the schema cache",
          "duration": 33,
          "details": {}
        }
      ],
      "total_tests": 3,
      "passed_tests": 1,
      "failed_tests": 2,
      "skipped_tests": 0,
      "duration": 155
    },
    {
      "scenario_name": "NOTIFICAÇÕES",
      "tests": [
        {
          "test_name": "8.1 - Criar notificação",
          "status": "PASS",
          "message": "Teste executado com sucesso",
          "duration": 67,
          "details": {
            "notification_created": true,
            "notification_id": "602c95f9-3dec-4a56-a0fc-b61c585b437c",
            "title": "CTS - Notificação de Teste"
          }
        },
        {
          "test_name": "8.2 - Marcar notificação como lida",
          "status": "PASS",
          "message": "Teste executado com sucesso",
          "duration": 95,
          "details": {
            "notification_marked": true,
            "is_read": true
          }
        },
        {
          "test_name": "8.3 - Buscar notificações não lidas",
          "status": "PASS",
          "message": "Teste executado com sucesso",
          "duration": 35,
          "details": {
            "unread_notifications": true,
            "count": 1
          }
        }
      ],
      "total_tests": 3,
      "passed_tests": 3,
      "failed_tests": 0,
      "skipped_tests": 0,
      "duration": 198
    },
    {
      "scenario_name": "ESCALAÇÃO AUTOMÁTICA",
      "tests": [
        {
          "test_name": "9.1 - Verificar configurações de escalação",
          "status": "PASS",
          "message": "Teste executado com sucesso",
          "duration": 54,
          "details": {
            "escalation_rules_found": true,
            "count": 4
          }
        },
        {
          "test_name": "9.2 - Testar escalação manual",
          "status": "PASS",
          "message": "Teste executado com sucesso",
          "duration": 58,
          "details": {
            "ticket_escalated": true,
            "new_priority": "high"
          }
        }
      ],
      "total_tests": 2,
      "passed_tests": 2,
      "failed_tests": 0,
      "skipped_tests": 0,
      "duration": 112
    },
    {
      "scenario_name": "CONFIGURAÇÕES E SLA",
      "tests": [
        {
          "test_name": "10.1 - Verificar configurações de SLA",
          "status": "PASS",
          "message": "Teste executado com sucesso",
          "duration": 50,
          "details": {
            "sla_configurations_found": true,
            "count": 5
          }
        }
      ],
      "total_tests": 1,
      "passed_tests": 1,
      "failed_tests": 0,
      "skipped_tests": 0,
      "duration": 51
    }
  ],
  "created_entities": {
    "tickets": [
      "7525aac9-0ef5-40be-b79e-541d558eeac3"
    ],
    "users": [
      "081f40a7-ccc1-49a4-b748-8b480f8c16f3"
    ],
    "organizations": [
      "c967c0ac-2600-4d4e-bc27-f6a286cd7b84"
    ],
    "categories": [
      "4c8c168f-c77a-492c-8bfa-4892ee51e31e"
    ],
    "articles": [],
    "timesheets": []
  }
}